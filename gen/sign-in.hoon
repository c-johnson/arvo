::  Login code for web UI
::
::::  /hoon/code/gen
  ::
:-  %say
|=  $:  {now/@da eny/@uvJ bec/beak}
        url/$@($~ {p/$@(cord purl) $~})
        loc/?($real $fake)
    ==
?~  url
  $(url :_(~ %*(. *purl p .^(hart %e /(scot %p p.bec)/host/[loc]))))
?@  p.url  $(p.url (rash p.url auri:epur))
:-  %tang
:_  ~
:-  %leaf
=/  tok
  %^  rsh  3  1
  %+  scot  %p
  .^(@p %e /(scot %p p.bec)/toke/(scot %da now))
=.  q.q.p.url  (welp /~/go/[tok] q.q.p.url)
(earn p.url)
